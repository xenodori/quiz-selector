<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ë‚´ê²Œ ë§ëŠ” êµ¬ë§¤ëŒ€í–‰ ë£¨íŠ¸ ì§„ë‹¨</title>
  <meta name="description" content="3ë¬¸í•­ìœ¼ë¡œ ë‚´ í˜„ì¬ ë‹¨ê³„ì— ë§ëŠ” í•™ìŠµ ë£¨íŠ¸ë¥¼ ì¶”ì²œë°›ì•„ë³´ì„¸ìš”.">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1:#0b1020; --bg2:#04060b;
      --glass:#141827cc;
      --line:#2a3144;
      --text:#eef3f8; --muted:#a7b0c0;
      --mint:#67e8f9; --blue:#7aa7ff; --green:#22c55e; --rose:#fb7185;
      --shadow:0 12px 40px rgba(0,0,0,.45);
      --radius:18px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:"Noto Sans KR",system-ui,Apple SD Gothic Neo,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      color:var(--text);
      background:
        radial-gradient(1000px 600px at 85% -10%, #123 0%, transparent 60%),
        radial-gradient(900px 500px at -10% 120%, #122 0%, transparent 60%),
        linear-gradient(160deg, var(--bg1), var(--bg2));
      display:flex; align-items:center; justify-content:center; padding:28px;
    }
    .app{width:100%; max-width:840px}
    .card{
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      backdrop-filter: blur(8px) saturate(120%);
      border:1px solid rgba(255,255,255,.08);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:28px 26px 22px;
      position:relative;
      overflow:hidden;
    }
    .glow{
      position:absolute; inset:-40%;
      background:radial-gradient(closest-side, rgba(103,232,249,.08), transparent 70%);
      transform:translate(-35%, -20%);
      pointer-events:none;
    }
    .badge{
      display:inline-flex; align-items:center; gap:8px;
      border:1px solid rgba(103,232,249,.28);
      background:rgba(103,232,249,.10);
      color:#d9fbff; padding:7px 12px; border-radius:999px; font-size:12px; font-weight:800;
    }
    .badge .dot{
      width:8px; height:8px; border-radius:50%;
      background:conic-gradient(from 0deg, var(--mint), var(--blue));
      box-shadow:0 0 10px rgba(103,232,249,.8);
    }
    h1.title{margin:10px 0 6px; font-size:30px; letter-spacing:-.2px}
    p.desc{margin:0 0 16px; color:var(--muted)}
    .progress{height:8px; background:#0e1321; border:1px solid var(--line); border-radius:999px; overflow:hidden; margin:12px 0 22px}
    .bar{height:100%; width:0%; background:linear-gradient(90deg, var(--mint), #93c5fd); transition:width .35s ease}
    .opts{display:grid; gap:14px; grid-template-columns:repeat(2, minmax(0,1fr)); margin-top:6px}
    .opt{
      display:flex; align-items:center; gap:12px;
      border:1px solid var(--line);
      background:rgba(20,24,39,.75);
      color:var(--text);
      padding:16px 16px; border-radius:14px; cursor:pointer;
      font-weight:800; letter-spacing:-.2px; outline:none;
      transition:transform .12s ease, box-shadow .2s ease, border-color .2s ease, background .2s;
      position:relative; isolation:isolate;
    }
    .opt .ico{font-size:20px; line-height:1}
    .opt:hover,.opt:focus{
      transform:translateY(-2px);
      box-shadow:0 10px 28px rgba(0,0,0,.35);
      border-color:#3a4663;
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
    }
    .actions{display:flex; gap:10px; margin-top:18px; flex-wrap:wrap}
    .btn{
      border:1px solid var(--line); background:#1a2033; color:var(--text);
      border-radius:12px; padding:11px 14px; font-weight:800; cursor:pointer;
    }
    .btn-ghost{background:transparent}
    .btn:disabled{opacity:.45; cursor:not-allowed}
    .result{display:grid; gap:12px; grid-template-columns:1fr; margin-top:12px}
    .headline{font-size:24px; font-weight:900; margin:.2rem 0}
    .result p{margin:.2rem 0 .6rem; color:var(--muted); line-height:1.65}
    .cta{display:flex; gap:10px; flex-wrap:wrap; margin-top:4px}
    .cta a{
      text-decoration:none; font-weight:900;
      background:var(--green); color:#00120a; border-radius:12px; padding:12px 16px;
      box-shadow:0 6px 18px rgba(34,197,94,.25);
    }
    .path{margin-top:10px; padding:10px 12px; border-radius:12px; background:#0d1220; border:1px dashed var(--line); color:#cbd5e1; font-size:13px}
    .small{font-size:12px; color:#9aa0aa}
    @media (max-width:640px){
      .opts{grid-template-columns:1fr}
      h1.title{font-size:26px}
      .card{padding:24px 18px}
    }
  </style>
</head>
<body>
  <main class="app">
    <section class="card" aria-live="polite">
      <div class="glow" aria-hidden="true"></div>

      <div class="badge"><span class="dot"></span> ë‚´ê²Œ ë§ëŠ” êµ¬ë§¤ëŒ€í–‰ í•™ìŠµ ë£¨íŠ¸</div>
      <h1 class="title" id="qTitle">êµ¬ë§¤ëŒ€í–‰ ê²½í—˜ì´ ìˆë‚˜ìš”?</h1>
      <p class="desc" id="qDesc">ë²„íŠ¼ì„ ì„ íƒí•˜ë©´ ë‹¤ìŒ ë‹¨ê³„ê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.</p>

      <div class="progress" aria-hidden="true"><div class="bar" id="bar"></div></div>

      <div id="options" class="opts"></div>

      <div class="actions">
        <button class="btn btn-ghost" id="backBtn" disabled>â† ì´ì „</button>
        <button class="btn" id="restartBtn">ì²˜ìŒë¶€í„°</button>
      </div>

      <div id="result" class="result" hidden></div>
      <div id="path" class="path small" hidden></div>
    </section>
  </main>

  <script>
    // ---------- 1) íŠ¸ë¦¬ ----------
    const TREE = {
      start: "q_exp",
      nodes: {
        q_exp: {
          title: "êµ¬ë§¤ëŒ€í–‰ ê²½í—˜ì´ ìˆë‚˜ìš”?",
          desc: "",
          options: [
            { label: "ìˆë‹¤", next: "q_mode", icon: "âœ…" },
            { label: "ì—†ë‹¤", next: "q_noexp_state", icon: "ğŸ§©" }
          ]
        },
        q_mode: {
          title: "í˜„ì¬ ìš´ì˜ ë°©ì‹ì€ ë¬´ì—‡ì¸ê°€ìš”?",
          desc: "",
          options: [
            { label: "ìˆ˜ë™", next: "q_term", icon: "ğŸ› ï¸" },
            { label: "ë°˜ìë™", next: "q_term", icon: "âš™ï¸" }
          ]
        },
        q_term: {
          title: "ìš´ì˜ ê¸°ê°„ì€ ì–¼ë§ˆë‚˜ ë˜ì—ˆë‚˜ìš”?",
          desc: "",
          options: [
            { label: "6ê°œì›” ì´í•˜", result: "seller_maker", icon: "ğŸŒ±" },
            { label: "6ê°œì›” ì´ìƒ", result: "vod_advanced", icon: "ğŸš€" }
          ]
        },
        q_noexp_state: {
          title: "í˜„ì¬ ìƒíƒœë¥¼ ì•Œë ¤ì£¼ì„¸ìš”.",
          desc: "",
          options: [
            { label: "ê´€ì‹¬ë§Œ ìˆë‹¤", result: "book_reco", icon: "ğŸ“š" },
            { label: "ì‹œì‘í•  ì˜ˆì •ì´ë‹¤", next: "q_start_plan", icon: "â–¶ï¸" }
          ]
        },
        q_start_plan: {
          title: "ì–´ë–»ê²Œ ì§„í–‰í•˜ê³  ì‹¶ë‚˜ìš”?",
          desc: "",
          options: [
            { label: "í˜¼ìì„œ í• ë˜ìš”", result: "vod_basic", icon: "ğŸ¥" },
            { label: "í˜¼ìì„œëŠ” ì–´ë ¤ì›Œìš”", result: "seller_maker", icon: "ğŸ¤" }
          ]
        }
      }
    };

    // ---------- 2) ê²°ê³¼ ----------
    const RESULTS = {
      seller_maker: {
        title: "ì¶”ì²œ: ì…€ëŸ¬ë©”ì´ì»¤ (ì‹¤ìŠµ ë£¨í‹´ í”„ë¡œê·¸ë¨)",
        body: "ì£¼ì°¨ë³„ ì‹¤ìŠµÂ·ìƒì„¸í˜ì´ì§€ í”¼ë“œë°±Â·ê²€ìƒ‰ë…¸ì¶œ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¡œ â€˜ì²« ë§¤ì¶œâ€™ì„ ê°€ì¥ ë¹ ë¥´ê²Œ ë§Œë“­ë‹ˆë‹¤.",
        ctas: [{ label: "ì…€ëŸ¬ë©”ì´ì»¤ ìì„¸íˆ ë³´ê¸°", href: "https://cafe.naver.com/travelceo/57125" }]
      },
      vod_advanced: {
        title: "ì¶”ì²œ: ì‹¬í™” ê°•ì˜",
        body: "6ê°œì›” ì´ìƒ ìš´ì˜ìë¼ë©´ â€˜ê²€ìƒ‰ë˜ëŠ” ìƒì„¸í˜ì´ì§€, ì¹´íƒˆë¡œê·¸/ì˜µì…˜/ê°€ê²© ì „ëµâ€™ìœ¼ë¡œ ì„±ì¥ì„ ê°€ì†í•˜ì„¸ìš”.",
        ctas: [{ label: "ì‹¬í™” ê°•ì˜ ë°”ë¡œê°€ê¸°", href: "https://www.travelceo.co.kr/cu/kfdX2USD" }]
      },
      book_reco: {
        title: "ì¶”ì²œ: êµ¬ë§¤ëŒ€í–‰ ì±…",
        body: "ê´€ì‹¬ ë‹¨ê³„ë¼ë©´ ê°œë…ê³¼ íë¦„(ì†Œì‹±â†’ë“±ë¡â†’ë…¸ì¶œâ†’íŒë§¤â†’ëŒ€ì‘)ì„ ë¹ ë¥´ê²Œ ì¡ëŠ” ê²Œ ìš°ì„ ì…ë‹ˆë‹¤.",
        ctas: [{ label: "ë„ì„œ ì•ˆë‚´ ë³´ê¸°", href: "https://search.shopping.naver.com/book/catalog/51231446621" }]
      },
      vod_basic: {
        title: "ì¶”ì²œ: ê¸°ì´ˆ VOD ê°•ì˜",
        body: "í˜¼ì ì‹œì‘í•  ë¶„ë“¤ì„ ìœ„í•´ í•µì‹¬ ê°œë…ê³¼ ì‹¤ìŠµ ë™ì„ ì„ 3ì‹œê°„ ì•ˆì— ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.",
        ctas: [{ label: "ê¸°ì´ˆ VOD ë³´ëŸ¬ê°€ê¸°", href: "https://www.travelceo.co.kr/cu/2xRPDZMk" }]
      }
    };

    // ---------- 3) ìƒíƒœ/ë Œë” ----------
    const $title = document.getElementById("qTitle");
    const $desc = document.getElementById("qDesc");
    const $opts = document.getElementById("options");
    const $bar = document.getElementById("bar");
    const $result = document.getElementById("result");
    const $path = document.getElementById("path");
    const $back = document.getElementById("backBtn");
    const $restart = document.getElementById("restartBtn");

    const stack = []; // ì§ˆë¬¸ id ìŠ¤íƒ
    const picks = []; // ì„ íƒ ë¼ë²¨ë§Œ

    function setProgress(){
      const max = 4;
      const pct = Math.min(100, Math.round((Math.max(1, stack.length)/max)*100));
      $bar.style.width = pct + "%";
    }
    function updatePath(){
      const crumbs = picks.join(" â†’ ");
      if(crumbs){ $path.hidden = false; $path.textContent = "ì„ íƒ ê²½ë¡œ: " + crumbs; }
      else { $path.hidden = true; $path.textContent = ""; }
    }

    function renderQuestion(qid){
      const node = TREE.nodes[qid]; if(!node) return;
      if(stack[stack.length-1] !== qid) stack.push(qid);

      $result.hidden = true;
      $title.textContent = node.title;
      $desc.textContent = node.desc || "";
      $opts.innerHTML = "";
      $opts.classList.toggle("row-1", node.options.length === 1);

      node.options.forEach((opt, i)=>{
        const b = document.createElement("button");
        b.className = "opt";
        b.innerHTML = `<span class="ico">${opt.icon || "â¤"}</span><span>${opt.label}</span>`;
        b.addEventListener("click", ()=>handlePick(opt));
        $opts.appendChild(b);
        if(i===0) b.focus();
      });

      $back.disabled = stack.length <= 1 && picks.length === 0;
      setProgress(); updatePath();
    }

    function showResult(key){
      const r = RESULTS[key]; if(!r) return;
      $opts.innerHTML = ""; $result.hidden = false;
      $title.textContent = "ë§ì¶¤ ê²°ê³¼";
      $desc.textContent = "ì•„ë˜ ì¶”ì²œì„ í™•ì¸í•˜ì„¸ìš”.";
      $bar.style.width = "100%";

      $result.innerHTML = `<div class="headline">âœ… ${r.title}</div><p>${r.body}</p>`;
      const wrap = document.createElement("div"); wrap.className = "cta";
      r.ctas.forEach(c=>{
        const a = document.createElement("a");
        a.href = c.href; a.target="_blank"; a.rel="noopener";
        a.textContent = c.label; wrap.appendChild(a);
      });
      $result.appendChild(wrap);
    }

    function handlePick(opt){
      picks.push(opt.label);
      if(opt.result) showResult(opt.result);
      else if(opt.next) renderQuestion(opt.next);
      updatePath();
    }

    function resetAll(){
      stack.length = 0; picks.length = 0;
      $result.hidden = true; $path.hidden = true;
      $bar.style.width = "0%";
      renderQuestion(TREE.start);
    }

    $back.addEventListener("click", ()=>{
      if(picks.length>0) picks.pop();
      if(stack.length>1){ stack.pop(); renderQuestion(stack.pop()); }
      else resetAll();
      updatePath();
    });
    $restart.addEventListener("click", resetAll);

    // ì‹œì‘
    resetAll();
    document.addEventListener("keydown", e=>{ if(e.key==="Escape") resetAll(); });
  </script>
</body>
</html>
